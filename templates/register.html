{% extends "layout.html" %}
{%block content%}     
<div class="register-container">
  <form method="POST" action="" class="form register">
    <h1>Register</h1>
    <hr />
    {{ form.hidden_tag() }}
    {% for field in form %}
    <div class="field">
      {% if field.errors %} {% for error in field.errors %}
      <div class="notification error">{{ error }}</div>
      {% endfor %} {% endif %}
      {{ field(placeholder=field.label.text) }}
    </div>
    {% endfor %}
    <button type="submit" id="submit">Register!</button>
  </form>
</div>

</div>
</div>

<script type="text/javascript">
  function initialize() {
      var input = document.getElementById('location');
      var autocomplete = new google.maps.places.Autocomplete(input);
      google.maps.event.addListener(autocomplete, 'place_changed', function () {
          var place = autocomplete.getPlace();
          document.getElementById('lat').value = place.geometry.location.lat();
          document.getElementById('lng').value = place.geometry.location.lng();
          //alert("This function is working!");
          //alert(place.name);
         // alert(place.address_components[0].long_name);

      });
  }
  google.maps.event.addDomListener(window, 'load', initialize);  
</script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKad-Gv_xxWD7rHOXjYEAHG9DUJiQEr20&libraries=places&callback=activePlacesSearch"></script> 
{% endblock %}

 